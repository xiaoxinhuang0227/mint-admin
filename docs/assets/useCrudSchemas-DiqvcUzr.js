import{y as e}from"./index-DABr7JLZ.js";const l={id:"id",children:"children",pid:"pid"},n=(e,n,r={})=>{const o=(r=(e=>Object.assign({},l,e))(r)).children;return function e(l){return l.map((e=>({...e}))).filter((l=>(l[o]=l[o]&&e(l[o]),n(l)||l[o]&&l[o].length)))}(e)},r=(e,{children:l="children",conversion:n})=>{const o=Array.isArray(e[l])&&e[l].length>0,i=n(e)||{};return o?{...i,[l]:e[l].map((e=>r(e,{children:l,conversion:n})))}:{...i}},o=(e,l,n={})=>{e.forEach((e=>{const r=l(e,n)||e;e.children&&o(e.children,l,r)}))},i=l=>{const n=e({searchSchema:[],tableColumns:[],formSchema:[],detailSchema:[]}),r=t(l);n.searchSchema=r||[];const o=c(l);n.tableColumns=o||[];const i=d(l);n.formSchema=i;const s=a(l);return n.detailSchema=s,{allSchemas:n}},t=e=>{var l,n;const r=[],o=e.length;for(let i=0;i<o;i++){const o=e[i],t={component:(null==(l=null==o?void 0:o.search)?void 0:l.component)||"Input",...o.search,field:o.field,label:(null==(n=o.search)?void 0:n.label)||o.label};r.push(t)}return r},c=e=>{const l=(o={conversion:e=>{var l;if(!(null==(l=null==e?void 0:e.table)?void 0:l.hidden))return{...e,...e.table}}},e.map((e=>r(e,o))));var o;return n(l,(e=>(void 0===e.children&&delete e.children,!!e.field)))},d=e=>{var l,n;const r=[],o=e.length;for(let i=0;i<o;i++){const o=e[i],t={component:(null==(l=null==o?void 0:o.form)?void 0:l.component)||"Input",...o.form,field:o.field,label:(null==(n=o.form)?void 0:n.label)||o.label};r.push(t)}return r},a=e=>{const l=[];return o(e,(e=>{var n,r;if(!(null==(n=null==e?void 0:e.detail)?void 0:n.hidden)){const n={...e.detail,field:e.field,label:(null==(r=e.detail)?void 0:r.label)||e.label};delete n.hidden,l.push(n)}})),l};export{i as u};
