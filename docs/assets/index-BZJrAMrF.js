import{s,u as e,v as a,x as o,y as t,b as r,c as n,d as i,e as m,g as l,w as p,f as u,E as c,i as d,j,z as f,_ as g}from"./index-DABr7JLZ.js";import{_ as v}from"./Form.vue_vue_type_script_lang-DbCYn3dE.js";import{u as _}from"./useValidator-Bj_R0Ps1.js";import{u as w}from"./useForm-Cl9wTA4n.js";import{A as h}from"./auth-C3Ux7B4J.js";import"./el-form-item-B6JcBCMl.js";import"./_baseClone-b-t9T-7y.js";import"./_initCloneObject-BWNb1LH2.js";import"./debounce-CaHj3z3S.js";import"./el-row-BY-GMAQ0.js";/* empty css                 */import"./request-BsRSZp8m.js";import"./index-DXAy02w0.js";import"./cloneDeep-BpdYEPoJ.js";import"./_commonjsHelpers-lGe4XDVY.js";const y=s=>(d("data-v-35f02389"),s=s(),j(),s),b={class:"page-login"},x=y((()=>i("div",{class:"mask"},null,-1))),R={class:"login-wrap"},I=y((()=>i("h1",null,"Mint Admin",-1))),P=g(s({__name:"index",setup(s){const{required:d}=_(),{formRegister:j,formMethods:g}=w(),{getFormData:y,getElFormExpose:P}=g,{updateUserInfo:A}=e(),{generateRoutes:F,setIsAddRoutes:q}=a(),{getAsyncRouters:C}=o(a()),{push:E}=f(),k=async()=>{const s=await P();await(null==s?void 0:s.validate((async s=>{if(s){const s=await y();try{const e=await h.login(s);A(e),await F(e.permission),q(!0),E({name:C.value[0].name})}catch(e){}}})))},D=t([{field:"username",label:"用户名",value:"admin",component:"Input",colProps:{span:24},componentProps:{placeholder:"请输入用户名"}},{field:"password",label:"密码",value:"admin",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},placeholder:"请输入密码"}}]),M={username:[d()],password:[d()]};return(s,e)=>{const a=c;return r(),n("div",b,[x,i("div",R,[I,m(l(v),{schema:D,onRegister:l(j),rules:M},null,8,["schema","onRegister"]),m(a,{onClick:k,type:"primary",class:"mt-10 login-btn"},{default:p((()=>[u("登 录")])),_:1})])])}}}),[["__scopeId","data-v-35f02389"]]);export{P as default};
